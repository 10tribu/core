<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<?asciidoc-toc?>
<?asciidoc-numbered?>

<article lang="en">
<articleinfo>
    <title>Log</title>
</articleinfo>
<section id="_display">
<title>Display</title>
<simpara>Le menu Logs permet de suivre ce qui se passe sur sa domotique. Dans la plupart des cas les logs ne serviront qu'à effectuer du debuggage et à résoudre des problèmes par l'équipe de support. Ce menu est d&#8217;ailleurs accessible uniquement en mode expert.</simpara>
<simpara>Pour y accèder il faut aller dans Administration &#8594; Logs :</simpara>
<informalfigure>
<mediaobject>
  <imageobject>
  <imagedata fileref="../images/log1.JPG"/>
  </imageobject>
  <textobject><phrase>../images/log1.JPG</phrase></textobject>
</mediaobject>
</informalfigure>
<simpara>You will get :</simpara>
<informalfigure>
<mediaobject>
  <imageobject>
  <imagedata fileref="../images/log.JPG"/>
  </imageobject>
  <textobject><phrase>../images/log.JPG</phrase></textobject>
</mediaobject>
</informalfigure>
<simpara>La page de Logs est assez simple, en haut à gauche une liste déroulante permettant le choix du log à regarder, en haut à droite vous avez 5 boutons :</simpara>
<itemizedlist>
<listitem>
<simpara>
<emphasis role="strong">Refresh</emphasis> : allows to refresh the actual log,
</simpara>
</listitem>
<listitem>
<simpara>
<emphasis role="strong">Download</emphasis> : allows to download an actual log,
</simpara>
</listitem>
<listitem>
<simpara>
<emphasis role="strong">Vider</emphasis> : permet de vider le log actuel,
</simpara>
</listitem>
<listitem>
<simpara>
<emphasis role="strong">Supprimer</emphasis> : permet de supprimer le log actuel, si Jeedom en a besoin il le recréera automatiquement,
</simpara>
</listitem>
<listitem>
<simpara>
<emphasis role="strong">Supprimer tous les logs</emphasis> : supprime tous les logs présents.
</simpara>
</listitem>
</itemizedlist>
<tip><simpara>A noter que le log nginx.error ne peut être supprimé. Il est essentiel ! si vous le supprimez (en ligne de commande par exemple) celui-ci ne se recréera pas tout seul, il faut redémarrer Jeedom.</simpara></tip>
</section>
<section id="_configuration">
<title>Configuration</title>
<simpara>Il existe certains paramètres de configuration des logs (accessible par Administation &#8594; Configuration puis la partie "Configuration des logs &amp; messages").</simpara>
<informalfigure>
<mediaobject>
  <imageobject>
  <imagedata fileref="../images/log2.JPG"/>
  </imageobject>
  <textobject><phrase>../images/log2.JPG</phrase></textobject>
</mediaobject>
</informalfigure>
<simpara>Vous avez ici les options suivantes :</simpara>
<itemizedlist>
<listitem>
<simpara>
<emphasis role="strong">Message</emphasis>
</simpara>
<itemizedlist>
<listitem>
<simpara>
<emphasis role="strong">Ajouter un message à chaque erreur dans les logs</emphasis> : si un plugin ou Jeedom écrit un message d&#8217;erreur dans un log, Jeedom ajoute automatiquement un message dans le centre des messages (au moins vous êtes sûr de ne pas le manquer)
</simpara>
</listitem>
<listitem>
<simpara>
<emphasis role="strong">Ne pas autoriser les messages venant de</emphasis> : permet d&#8217;interdire certains messages venant d&#8217;un plugin ou autre
</simpara>
</listitem>
<listitem>
<simpara>
<emphasis role="strong">Commande d&#8217;information utilisateur</emphasis> : permet de sélectionner une ou plusieurs commandes (à séparer par des &amp;&amp;) de type message qui seront utilisées lors de nouveaux messages (permet d'être tout de suite prévenu)
</simpara>
</listitem>
</itemizedlist>
</listitem>
<listitem>
<simpara>
<emphasis role="strong">Log</emphasis>
</simpara>
<itemizedlist>
<listitem>
<simpara>
<emphasis role="strong">Moteur de log</emphasis> : permet de changer le moteur de log pour par exemple les envoyer à un demon syslog(d)
</simpara>
</listitem>
<listitem>
<simpara>
<emphasis role="strong">Nombre de lignes maximum dans un fichier de log</emphasis> : Définit le nombre maximum de lignes dans un fichier de log, il est recommandé de ne pas toucher cette valeur, car une valeur trop grande pourrait remplir le système de fichiers et/ou rendre Jeedom incapable d&#8217;afficher le log
</simpara>
</listitem>
<listitem>
<simpara>
<emphasis role="strong">Logs actifs</emphasis> : permet de définir les niveaux de log actif. Attention : plus il y a de niveaux actifs, plus Jeedom peut être lent ! Cela entraîne aussi une usure prématurée de la carte SD. Il est conseillé de n&#8217;activer que le niveau "Error". "Event" peut être activé aussi car il est nécessaire pour voir en temps réel ce qui se passe sur sa domotique (bien sûr c&#8217;est seulement si vous en avez besoin).
</simpara>
</listitem>
</itemizedlist>
</listitem>
</itemizedlist>
</section>
<section id="_le_log_event_et_le_niveau_de_log_event">
<title>Le log "Event" et le niveau de log "Event"</title>
<simpara>Le log "Event" est un peu particulier. Tout d&#8217;abord pour qu&#8217;il fonctionne, il faut activer le niveau de log "Info" ou plus, ensuite celui-ci recense tous les évènements ou actions qui se passent sur la domotique. Pour y accéder, il faut cliquer sur la petite icône "compteur" en bas à droite dans Jeedom :</simpara>
<informalfigure>
<mediaobject>
  <imageobject>
  <imagedata fileref="../images/log3.JPG"/>
  </imageobject>
  <textobject><phrase>../images/log3.JPG</phrase></textobject>
</mediaobject>
</informalfigure>
<simpara>Une fois que vous avez cliqué dessus, vous obtenez une fenêtre qui se met à jour toutes les secondes et vous affiche tous les évènements de votre domotique.</simpara>
<informalfigure>
<mediaobject>
  <imageobject>
  <imagedata fileref="../images/log4.JPG"/>
  </imageobject>
  <textobject><phrase>../images/log4.JPG</phrase></textobject>
</mediaobject>
</informalfigure>
<simpara>En haut à droite vous avez un champ recherche (ne marche que si vous n'êtes pas en pause) et un bouton pour mettre en pause (utile pour faire un copier/coller par exemple).</simpara>
<important><simpara>Pour que cela fonctionne il faut absolument avoir activé le niveau de log "Info" ou plus (voir paragraphe précédent)</simpara></important>
</section>
</article>
