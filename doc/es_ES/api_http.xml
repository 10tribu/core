<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<?asciidoc-toc?>
<?asciidoc-numbered?>

<article lang="en">
<articleinfo>
    <title>API HTTP</title>
</articleinfo>
<simpara>Jeedom proporciona a los desarrolladores y usuarios una API completa para poder controlar cualquier objeto conectado.</simpara>
<simpara>Hay 2 APIs disponibles: una piloto orientada a desarrollado en JSON RPC 2.0 y otra vía URL y HTTP.</simpara>
<simpara>Esta API se utiliza muy fácilmente a través de solicitudes HTTP vía URL. Para simplificarla al máximo, la API solo utiliza 2 tipos de solicitudes HTTP.</simpara>
<simpara>Atención si su versión es DIY es necesario añadir /jeedom después de las direcciones ip.</simpara>
<section id="_manejo_de_las_escenas">
<title>Manejo de las escenas</title>
<simpara>La primera consulta se utiliza sólo para activar una escena</simpara>
<simpara>Aquí le damos la URL = <ulink url="http://IP_JEEDOM/core/api/jeeApi.php?apikey=#APIKEY#&amp;type=scenario&amp;id=#ID#&amp;action=#ACCIÓN">http://IP_JEEDOM/core/api/jeeApi.php?apikey=#APIKEY#&amp;type=scenario&amp;id=#ID#&amp;action=#ACCIÓN</ulink>#</simpara>
<simpara>\#IP_JEEDOM # corresponde a la url de acceso a Jeedom. Es la dirección de internet que utilizas para acceder a Jeedom desde fuera (a menos que estés conectado a tu red local).</simpara>
<simpara>#API_KEY # corresponde a tu API key, es único para su instalación. Para saber cual es, debe activar el modo experto. Ir a Menú superior, luego <emphasis>Administración</emphasis> y en <emphasis>Configuración General</emphasis>, verá una línea con la clave API.</simpara>
<informalfigure>
<mediaobject>
  <imageobject>
  <imagedata fileref="../images/apihttp.jpg"/>
  </imageobject>
  <textobject><phrase>../images/apihttp.jpg</phrase></textobject>
</mediaobject>
</informalfigure>
<simpara>#ID # es el id de una escena. El ID se encuentra en la página de escenas&#8230; (No olvides activar el modo experto)</simpara>
<informalfigure>
<mediaobject>
  <imageobject>
  <imagedata fileref="../images/apihttp2.png"/>
  </imageobject>
  <textobject><phrase>../images/apihttp2.png</phrase></textobject>
</mediaobject>
</informalfigure>
<simpara>#ACCIÓN # corresponde a la acción que desea aplicar a una escena. Las ordenes disponibles son: "start" comenzar una escena, "stop" para detener una escena, "desactivar" para deshabilitar una escena, "activar" para activar una escena.</simpara>
</section>
<section id="_manejo_de_ordenes">
<title>Manejo de ordenes</title>
<simpara>La segunda consulta permite simplemente controlar todos los otros módulos de Jeedom (módulo domotica/plugin etc.).</simpara>
<simpara>Aquí le damos la URL = <ulink url="http://#IP_JEEDOM#/jeedom/core/api/jeeApi.php?apikey=#APIKEY#&amp;type=cmd&amp;id=#ID">http://#IP_JEEDOM#/jeedom/core/api/jeeApi.php?apikey=#APIKEY#&amp;type=cmd&amp;id=#ID</ulink>#</simpara>
<simpara>#IP_JEEDOM# y #API_KEY# se utilizan en la misma forma que antes.</simpara>
<simpara>#ID# es el id que desea manejar o recibir información.</simpara>
<simpara>La forma más sencilla de obtener esta dirección URL es ir la página de resumen de domótica,  buscar el comando y a continuación, abrir configuración avanzada y ahí podrás ver una dirección URL que contiene todo la cadena de ejecución en función del tipo y subtipo del comando. Ver <ulink url="https://jeedom.com/doc/documentation/core/fr_FR/doc-core-display.html#_informations_2">ici</ulink></simpara>
</section>
</article>
