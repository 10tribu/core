<div style="width:90px;height:100%;vertical-align: top;" class="cmd #history#" data-type="info" data-subtype="numeric" data-cmd_id="#id#" data-cmd_uid="#uid#" title="#collectDate#">
    <center>
        <div style="font-size : 12px;#hideCmdName#">#valueName#</div>
        <span style="font-size: 2.5em;" class="iconCmd#uid# iconCmd cursor action"></span>
    </center>
</div>
<script>
   $('.cmd[data-cmd_uid=#uid#] .action').off().on('click', function() {
    jeedom.cmd.execute({id: '#id#'});
});
   if ('#state#' == '1' || '#state#' == 1 || '#state#' == '99' || '#state#' == 99 || '#state#' == 'on') {
    $('.iconCmd#uid#').append('<i class="icon jeedom-lumiere-on"></i>');
    if (jeedom.cmd.normalizeName('#name#') == 'on') {
        $('.cmd[data-cmd_uid=#uid#]').hide();
    }
} else {
    $('.iconCmd#uid#').append('<i class="icon jeedom-lumiere-off"></i>');
    if (jeedom.cmd.normalizeName('#name#') == 'off') {
        $('.cmd[data-cmd_uid=#uid#]').hide();
    }
}
if (isset(jeedom.cmd.update)) {
    jeedom.cmd.update['#id#'] = function(_options){
        if (_options.display_value == '1' || _options.display_value == 1 || _options.display_value == '99' || _options.display_value == 99 || _options.display_value == 'on') {
            if (jeedom.cmd.normalizeName('#name#') == 'on') {
                $('.cmd[data-cmd_id=#id#]').hide();
            }else{
                $('.cmd[data-cmd_id=#id#]').show();
                $('.cmd[data-cmd_id=#id#] .iconCmd').empty().append('<i class="icon jeedom-lumiere-on"></i>');
            }
        } else {
            if (jeedom.cmd.normalizeName('#name#') == 'off') {
                $('.cmd[data-cmd_id=#id#]').hide();
            }else{
                $('.cmd[data-cmd_id=#id#]').show();
                $('.cmd[data-cmd_id=#id#] .iconCmd').empty().append('<i class="icon jeedom-lumiere-off"></i>');
            }
        }
    }
}
</script>